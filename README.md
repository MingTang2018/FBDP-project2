# FBDP Project2 股票新闻标题舆情分析
@张竞艺 151278047 

[toc]

## 实验目标
使用多种机器学习算法对文本进行情感判别，包括KNN、决策树、朴素贝叶斯、支持向量机等，学习如何进行模型训练，如何进行分类预测。要求使用至少两种分类方法。

## 数据集说明
样本集：指标有negative、 neutral、positive词性的数据集
测试集：指待分类股票标题数据集

## 实验设计说明
实验设计说明，包括主要设计思路、算法设计、程序和各个类的设计说明
程序运行和实验结果说明和分析
性能、扩展性等方面存在的不足和可能的改进之处

### 主要设计思路
本次实验主要要分解成如下几个步骤：

1. 数据预处理
    1. 从原始数据集中提取新闻标题并分词
    2. 数据清洗（清洗分词后仍出现的非中文字符）
    3. 对样本集三个情感标签下的词组分别进行词频统计
2. 文本向量化
    1. 分别对样本集和测试集中的词组计算tf-idf值
    2. 为了方便后续处理，将tf-idf值*10000进行扩大
3. 特征选择
    - 根据样本集中tf-idf值，在三类情感中每类选出500词共1500词作为特征词
4. 模型训练
    - 用KNN算法输入训练模型
    - 用NaiveBayes算法训练模型 
5. 分类
    - 用KNN算法实验测实现分类
    - 用NaiveBayes算法实现分类

### 程序说明
#### segment.java

- 对新闻标题和样本集的内容进行分词
- 数据清洗：用正则表达式除去非中文字符

```java
String titles = StringUtils.strip(tempseg.toString().replaceAll("[,.%/(A-Za-z0-9)]",""),"[]");
titles = titles.replace("\\s+"," ");
```

#### Tfidf.java

> TF-IDF是一种统计方法，用以评估一字词对于一个文件集或一个语料库中的其中一份文件的重要程度。字词的重要性随着它在文件中出现的次数成正比增加，但同时会随着它在语料库中出现的频率成反比下降。TF-IDF加权的各种形式常被搜索引擎应用，作为文件与用户查询之间相关程度的度量或评级。除了TF-IDF以外，因特网上的搜索引擎还会使用基于链接分析的评级方法，以确定文件在搜寻结果中出现的顺序。
> 
> 来源：百度百科

TF（term frequency）即一个词在该文本中的词频  
IDF（inverse document frequency）是指逆向文件频率  
Tf-Idf值标识着一个词对于该文本的重要性，即一个词在该文本中出现的次数越多而在整个语料库中出现的次数越少就越能说明这个词能在很大程度上代表这个文本。故Tf-Idf相对于单纯的词频统计来说能够使得在所有文本中都出现的词如“股票”“公司”“新闻”等的权重下降，从而突出能够代表文本的特征词  
因此可以用Tf-Idf值来进行特征选择

Tf-Idf的java实现为分别计算一个词的tf值和idf值，然后将两者相乘（并扩大10000倍）作为其Tf-Idf值，并和对应的词组映射在哈希表最后将结果按照tf-idf值降序输出


******To be continued...******

　　
 

